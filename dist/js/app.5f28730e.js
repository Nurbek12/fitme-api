(function(){"use strict";var e={2944:function(e,t,s){var i=s(144),a=s(196),l=s(998),n=s(3059),d=function(){var e=this,t=e._self._c;return t(l.Z,[e.isLoggedIn?t("Navigation"):e._e(),e.isLoggedIn?t("AppBar"):e._e(),t(n.Z,{staticStyle:{"background-color":"#eee"},attrs:{app:""}},[t("router-view")],1)],1)},r=[],o=s(4324),c=s(5808),u=s(4525),m=s(7912),h=s(4611),p=s(2866),f=s(9709),v=s(2082),g=function(){var e=this,t=e._self._c;return t(f.Z,{attrs:{app:"",color:"grey darken-4",flat:"","mini-variant":!e.drawer,permanent:""},scopedSlots:e._u([{key:"append",fn:function(){return[t(c.Z,{attrs:{nav:"",dense:"",dark:""}},[t(u.Z,{attrs:{link:""},on:{click:e.logout}},[e.drawer?t(h.Z,[t(o.Z,[e._v("mdi-logout-variant")])],1):t(v.Z,{attrs:{right:"",color:"grey darken-4"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(h.Z,e._g(e._b({},"v-list-item-icon",i,!1),s),[t(o.Z,[e._v("mdi-logout-variant")])],1)]}}])},[t("span",[e._v("Logout")])]),t(p.V9,[e._v("Logout")])],1)],1)]},proxy:!0}])},[t(c.Z,{attrs:{nav:"",dense:"",dark:""}},[t(m.Z,e._l(e.links,(function(s,i){return t(u.Z,{key:i,attrs:{link:"",to:s.url}},[e.drawer?t(h.Z,[t(o.Z,{domProps:{textContent:e._s(s.icon)}})],1):t(v.Z,{attrs:{right:"",color:"grey darken-4"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(h.Z,e._g(e._b({},"v-list-item-icon",a,!1),i),[t(o.Z,{domProps:{textContent:e._s(s.icon)}})],1)]}}],null,!0)},[t("span",[e._v(e._s(s.title))])]),t(p.V9,[e._v(e._s(s.title))])],1)})),1)],1)],1)},b=[],x=s(629),k={name:"Navigation",data:()=>({links:[{title:"Дашбоард",icon:"mdi-home",url:"/"},{title:"Пользователи",icon:"mdi-account",url:"/users"},{title:"Тренеры",icon:"mdi-account-school",url:"/trainers"},{title:"Админы",icon:"mdi-account-tie-hat",url:"/admins"},{title:"Продукт",icon:"mdi-baguette",url:"/products"},{title:"Схема питания",icon:"mdi-hamburger",url:"/mealplans"},{title:"Упражнение",icon:"mdi-dumbbell",url:"/exercises"},{title:"Тренировки",icon:"mdi-weight-lifter",url:"/workout"},{title:"Категории",icon:"mdi-chart-arc",url:"/categories"},{title:"Финансы",icon:"mdi-currency-usd",url:"/finance"},{title:"Feedback",icon:"mdi-message-processing",url:"/feedback"}]}),computed:(0,x.Se)(["drawer"]),methods:{...(0,x.OI)(["logout"])}},Z=k,I=s(1001),_=(0,I.Z)(Z,g,b,!1,null,null,null),y=_.exports,w=s(6232),$=s(5550),C=s(1154),S=s(6190),D=s(3687),O=s(7953),j=function(){var e=this,t=e._self._c;return t(w.Z,{attrs:{app:"",elevation:"0",color:"grey lighten-3"}},[t($.Z,{on:{click:function(t){return t.stopPropagation(),e.toggleNav.apply(null,arguments)}}}),t(O.qW,[e._v("Панель Админа")]),t(D.Z),t(S.Z,{attrs:{icon:"",color:"red accent-2"}},[t(o.Z,[e._v("mdi-cog")])],1),t(C.Z,{attrs:{color:"red accent-2",dot:"",content:"1",overlap:""}},[t(S.Z,{attrs:{icon:"",color:"deep-purple lighten-2"}},[t(o.Z,[e._v("mdi-bell")])],1)],1),t(S.Z,{attrs:{icon:"",color:"deep-purple lighten-2"}},[t(o.Z,[e._v("mdi-account")])],1)],1)},R=[],T={name:"AppBar",data:()=>({}),methods:{...(0,x.OI)(["toggleNav"])}},B=T,E=(0,I.Z)(B,j,R,!1,null,null,null),V=E.exports,z={name:"App",data:()=>({}),computed:(0,x.Se)(["isLoggedIn"]),components:{Navigation:y,AppBar:V}},P=z,L=(0,I.Z)(P,d,r,!1,null,null,null),A=L.exports,U=s(1705);i.ZP.use(U.Z);var K=new U.Z({}),F=(s(7658),s(8345)),N=s(3423),M=s(9582),J=s(4886),q=s(4127),W=s(266),G=s(2118),H=s(3875),Q=s(4061),X=s(5125),Y=s(4568),ee=s(1713),te=s(9559),se=s(9258),ie=s(7808),ae=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:"",color:"grey lighten-3"}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Имя Фамилия",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Эл. адрес",outlined:"","hide-details":"",dense:"",rules:e.emailRules},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Номер телефона",outlined:"",dense:"",rules:e.nameRules,"hide-details":""},model:{value:e.editedItem.phonenumber,callback:function(t){e.$set(e.editedItem,"phonenumber",t)},expression:"editedItem.phonenumber"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(te.Z,{attrs:{items:["Женской","Мужской"],label:"Пол",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите полa"]},model:{value:e.editedItem.male,callback:function(t){e.$set(e.editedItem,"male",t)},expression:"editedItem.male"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(ie.Z,{attrs:{label:"Возраст",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.age,callback:function(t){e.$set(e.editedItem,"age",t)},expression:"editedItem.age"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:s}){return[t(N.Z,[t("img",{attrs:{src:`${e.url}/${s.image}`}})])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.dateformat(s.updatedAt)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},le=[],ne={name:"Admins",data:()=>({valid:!1,dialog:!1,dialogDelete:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Картина",value:"image",sortable:!1,align:"start"},{text:"Имя",value:"name"},{text:"Эл. адрес",value:"email",sortable:!1},{text:"Номер телефона",value:"phonenumber",sortable:!1},{text:"Пол",value:"male"},{text:"Возраст",value:"age"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,editedItem:{name:"",email:"",phonenumber:"",male:"",age:""},defaultItem:{name:"",email:"",phonenumber:"",male:"",age:""},nameRules:[e=>!!e||"Укажите поля"],emailRules:[e=>!!e||"Электронная почта обязательна",e=>/.+@.+/.test(e)||"Электронная почта должна быть действующей"]}),computed:{...(0,x.Se)(["url"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},async initialize(){const{data:e}=await this.$http.get("/user/getadmins");e.status&&(this.desserts=e.result)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/user/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},async save(){if(this.editedIndex>-1){const{data:e}=await this.$http.put(`/user/edit/${this.editedId}`,this.editedItem);e.status&&Object.assign(this.desserts[this.editedIndex],e.result),this.openSnackbar(e.message,e.status)}else{const{data:e}=await this.$http.post("/user/add/admin",this.editedItem);e.status&&this.desserts.push(e.result),this.openSnackbar(e.message,e.status)}this.close()}}},de=ne,re=(0,I.Z)(de,ae,le,!1,null,null,null),oe=re.exports,ce=s(7423),ue=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(ee.Z,{staticClass:"mt-2"},[t(W.Z,{attrs:{cols:"12",sm:"6",md:"3"}},[t(M.Z,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t(ce.Z,{staticClass:"d-flex align-center justify-center",staticStyle:{position:"absolute",top:"-10px",left:"10px"},attrs:{color:"amber darken-1",height:"75",width:"75",rounded:"",elevation:"3"}},[t(o.Z,{attrs:{"x-large":"",color:"white"}},[e._v(" mdi-food ")])],1),t(J.ZB,{staticStyle:{"text-align":"right"}},[t("div",[e._v("Схема питания")]),t("p",{staticClass:"text-h4 text--primary"},[e._v(" "+e._s(e.countinfo.mealplans)+" ")])])],1)],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"3"}},[t(M.Z,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t(ce.Z,{staticClass:"d-flex align-center justify-center",staticStyle:{position:"absolute",top:"-10px",left:"10px"},attrs:{color:"pink accent-3",height:"75",width:"75",rounded:"",elevation:"3"}},[t(o.Z,{attrs:{"x-large":"",color:"white"}},[e._v(" mdi-account-group ")])],1),t(J.ZB,{staticStyle:{"text-align":"right"}},[t("div",[e._v("Пользователи")]),t("p",{staticClass:"text-h4 text--primary"},[e._v(" "+e._s(e.countinfo.users)+" ")])])],1)],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"3"}},[t(M.Z,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t(ce.Z,{staticClass:"d-flex align-center justify-center",staticStyle:{position:"absolute",top:"-10px",left:"10px"},attrs:{color:"green accent-3",height:"75",width:"75",rounded:"",elevation:"3"}},[t(o.Z,{attrs:{"x-large":"",color:"white"}},[e._v(" mdi-account-star ")])],1),t(J.ZB,{staticStyle:{"text-align":"right"}},[t("div",[e._v("Тренеры")]),t("p",{staticClass:"text-h4 text--primary"},[e._v(" "+e._s(e.countinfo.trainers)+" ")])])],1)],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"3"}},[t(M.Z,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t(ce.Z,{staticClass:"d-flex align-center justify-center",staticStyle:{position:"absolute",top:"-10px",left:"10px"},attrs:{color:"light-blue accent-3",height:"75",width:"75",rounded:"",elevation:"3"}},[t(o.Z,{attrs:{"x-large":"",color:"white"}},[e._v(" mdi-weight-lifter ")])],1),t(J.ZB,{staticStyle:{"text-align":"right"}},[t("div",[e._v("Тренировки")]),t("p",{staticClass:"text-h4 text--primary"},[e._v(" "+e._s(e.countinfo.exercises)+" ")])])],1)],1)],1),t(M.Z,{staticClass:"mt-6"},[t(ce.Z,{staticClass:"d-flex align-center justify-center",staticStyle:{position:"absolute",top:"-10px",left:"10px"},attrs:{color:"deep-purple accent-4",height:"65",width:"65",rounded:"",elevation:"3"}},[t(o.Z,{attrs:{"x-large":"",color:"white"}},[e._v(" mdi-web ")])],1),t(J.EB,[t("div",{staticStyle:{transform:"translateX(70px)"}},[e._v("Finances")]),t(D.Z)],1),t(H.Z,{attrs:{headers:e.headers,items:e.desserts,"items-per-page":5,search:e.search}})],1)],1)},me=[],he={name:"App",data:()=>({countinfo:{users:0,trainers:0,admins:0,mealplans:0,exercises:0},search:"",headers:[{text:"Dessert (100g serving)",align:"start",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Iron (%)",value:"iron"}],desserts:[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,iron:"1%"},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6,iron:"7%"},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,iron:"8%"},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,iron:"16%"},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0,iron:"0%"},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0,iron:"2%"},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5,iron:"45%"},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9,iron:"22%"},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7,iron:"6%"}]}),created(){this.getAllInfo()},methods:{async getAllInfo(){const{data:e}=await this.$http.get("/getinfo");e.status&&Object.assign(this.countinfo,e.result)}}},pe=he,fe=(0,I.Z)(pe,ue,me,!1,null,null,null),ve=fe.exports,ge=s(1625),be=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search,"item-key":"_id",expanded:e.expanded,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Название",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Подходы",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.approach,callback:function(t){e.$set(e.editedItem,"approach",t)},expression:"editedItem.approach"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{label:"Категория",items:e.tags,"item-text":"title","item-value":"title",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1),e.editedItem.category?t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{label:"Подкатегория",items:e.getChildCateg(e.editedItem.category),"item-text":"title","item-value":"title",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.childcategory,callback:function(t){e.$set(e.editedItem,"childcategory",t)},expression:"editedItem.childcategory"}})],1):e._e(),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Короткое описание",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),t(W.Z,{attrs:{cols:"12"}},[t("div",{staticClass:"d-flex align-center"},[t("video",{staticStyle:{"object-fit":"cover"},attrs:{src:e.urlImage,autoplay:"",loop:"",muted:"",width:"100"},domProps:{muted:!0}}),t(ge.Z,{attrs:{accept:"video/mp4,video/x-m4v,video/*",label:e.editedId?"Поменить видео":"Добавить видео",outlined:"",dense:"","hide-details":""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel ")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK ")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.date(s.updatedAt)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}},{key:"expanded-item",fn:function({headers:s,item:i}){return[t("td",{staticClass:"py-2 px-4",attrs:{colspan:s.length}},[t(M.Z,{staticClass:"elevation-0"},[t(J.EB,[e._v("Описание")]),t(J.ZB,[e._v(" "+e._s(i.description)+" ")])],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},xe=[],ke={data:()=>({expanded:[],tags:[],valid:!1,dialog:!1,dialogDelete:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Название",value:"title",sortable:!1,align:"start"},{text:"Подходы",value:"approach",sortable:!1},{text:"Категория",value:"category",sortable:!1},{text:"Подкатегория",value:"childcategory",sortable:!1},{text:"Дата",value:"date"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,file:null,editedItem:{title:"",description:"",approach:"",category:"",childcategory:"",filename:""},defaultItem:{title:"",description:"",approach:"",category:"",childcategory:"",filename:""},nameRules:[e=>!!e||"Укажите поля"]}),computed:{...(0,x.Se)(["url"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"},urlImage(){return this.file?URL.createObjectURL(this.file):this.editedId&&!this.file?`${this.url}/${this.editedItem.video}`:"/icons/nophoto.jpg"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.getCategory()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},getChildCateg(e){return this.tags.find((t=>t.title==e)).child},date(e){return new Date(1e3*parseInt(e.toString().substring(0,8),16)).toString().slice(0,24)},async initialize(){const{data:e}=await this.$http.get("/exercise/all");e.status&&(this.desserts=e.result)},async getCategory(){const{data:e}=await this.$http.get("/category/find?theme=exercise");e.status&&(this.tags=e.result)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/exercise/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},async save(){const e=new FormData;if(Object.keys(this.editedItem).map((t=>{e.append(t,this.editedItem[t])})),this.file&&(e.set("filename",Date.now()+"_"+this.file.name),e.append("file",this.file)),this.editedIndex>-1){const{data:t}=await this.$http.put(`/exercise/edit/${this.editedId}`,e);t.status&&Object.assign(this.desserts[this.editedIndex],t.result),this.openSnackbar(t.message,t.status)}else{const{data:t}=await this.$http.post("/exercise/add/",e);t.status&&this.desserts.push(t.result),this.openSnackbar(t.message,t.status)}this.close()}}},Ze=ke,Ie=(0,I.Z)(Ze,be,xe,!1,null,null,null),_e=Ie.exports,ye=function(){var e=this,t=e._self._c;return t("div",[e._v("Feedbacks")])},we=[],$e={},Ce=$e,Se=(0,I.Z)(Ce,ye,we,!1,null,null,null),De=Se.exports,Oe=function(){var e=this,t=e._self._c;return t("div",[e._v("Finances")])},je=[],Re={},Te=Re,Be=(0,I.Z)(Te,Oe,je,!1,null,null,null),Ee=Be.exports,Ve=s(6313),ze=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(M.Z,{staticClass:"mx-auto mt-10 pb-5 glass",attrs:{tile:"","max-width":"430"}},[t(Ve.Z,{attrs:{flat:"",dark:""}},[t(O.qW,[e._v("Tizimga Kirish")])],1),t(J.ZB),t("form",{staticClass:"mx-5",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t(ie.Z,{staticClass:"rounded-0",attrs:{outlined:"",required:"",label:"Email"},model:{value:e.formdata.email,callback:function(t){e.$set(e.formdata,"email",t)},expression:"formdata.email"}}),t(ie.Z,{staticClass:"rounded-0",attrs:{outlined:"",required:"",label:"Parol","append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.formdata.password,callback:function(t){e.$set(e.formdata,"password",t)},expression:"formdata.password"}}),t(S.Z,{staticClass:"py-6",attrs:{tile:"",elevation:"0",block:"",type:"submit",dark:""}},[e._v(" Kirish ")])],1)],1),t(se.Z,{attrs:{timeout:"2000"},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.message.status?"green":"red",text:""},on:{click:function(t){e.message.toggle=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.message.toggle,callback:function(t){e.$set(e.message,"toggle",t)},expression:"message.toggle"}},[e._v(" "+e._s(e.message.message)+" ")])],1)},Pe=[],Le={name:"Login",data:()=>({show:null,formdata:{email:"",password:""},message:{status:!0,message:"",toggle:!1}}),methods:{...(0,x.OI)(["LoginUser"]),async login(){try{const{data:e}=await this.$http.post("/auth/adminlogin",this.formdata);e.status&&(this.showMessage({...e,toggle:!0}),this.LoginUser(e),this.$router.push("/"))}catch(e){this.showMessage({...e.response.data,toggle:!0})}},showMessage(e){this.message=e}}},Ae=Le,Ue=(0,I.Z)(Ae,ze,Pe,!1,null,null,null),Ke=Ue.exports,Fe=s(2648),Ne=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search,"item-key":"_id",expanded:e.expanded,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Название",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Цена",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:["Жиросжигание","Массанабор"],label:"Тип",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите типу"]},model:{value:e.editedItem.type,callback:function(t){e.$set(e.editedItem,"type",t)},expression:"editedItem.type"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.productList,label:"Завтрак",outlined:"","hide-details":"",dense:"",multiple:"","item-text":"title","item-value":"_id"},model:{value:e.editedItem.breakfast,callback:function(t){e.$set(e.editedItem,"breakfast",t)},expression:"editedItem.breakfast"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.productList,label:"Обед",outlined:"","hide-details":"",dense:"",multiple:"","item-text":"title","item-value":"_id"},model:{value:e.editedItem.dinner,callback:function(t){e.$set(e.editedItem,"dinner",t)},expression:"editedItem.dinner"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.productList,label:"Ужин",outlined:"","hide-details":"",dense:"",multiple:"","item-text":"title","item-value":"_id"},model:{value:e.editedItem.supper,callback:function(t){e.$set(e.editedItem,"supper",t)},expression:"editedItem.supper"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{label:"Категория",items:e.tags,"item-text":"title","item-value":"title",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1),e.editedItem.category?t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{label:"Подкатегория",items:e.getChildCateg(e.editedItem.category),"item-text":"title","item-value":"title",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.childcategory,callback:function(t){e.$set(e.editedItem,"childcategory",t)},expression:"editedItem.childcategory"}})],1):e._e(),t(W.Z,{attrs:{cols:"12",sm:"6"}},[t(ie.Z,{attrs:{label:"Срж. углеводов (в гр.)",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.carbohydrates,callback:function(t){e.$set(e.editedItem,"carbohydrates",t)},expression:"editedItem.carbohydrates"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6"}},[t(ie.Z,{attrs:{label:"Срж. жиров (в гр.)",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.fat,callback:function(t){e.$set(e.editedItem,"fat",t)},expression:"editedItem.fat"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6"}},[t(ie.Z,{attrs:{label:"Срж. белков (в гр.)",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.proteins,callback:function(t){e.$set(e.editedItem,"proteins",t)},expression:"editedItem.proteins"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6"}},[t(ie.Z,{attrs:{label:"Срж. калориев (в гр.)",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.calories,callback:function(t){e.$set(e.editedItem,"calories",t)},expression:"editedItem.calories"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(Fe.Z,{attrs:{outlined:"",name:"input-7-4",rules:e.nameRules,label:"Описание","hide-details":""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel ")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK ")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:e}){return[t(N.Z,{attrs:{rounded:""}},[t("img",{attrs:{src:`/files/${e.image}`}})])]}},{key:"item.author",fn:function({item:s}){return[t("span",[e._v(e._s(s.author?.name))])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.date(s._id)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.viewItem(s._id)}}},[t(p.V9,[e._v("View")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}},{key:"expanded-item",fn:function({headers:s,item:i}){return[t("td",{staticClass:"py-2 px-4",attrs:{colspan:s.length}},[t(M.Z,{staticClass:"elevation-0"},[t(J.EB,[e._v("Описание")]),t(J.ZB,[e._v(" "+e._s(i.description)+" ")])],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")]),t(Q.Z,{attrs:{"max-width":"600px"},model:{value:e.dialogView,callback:function(t){e.dialogView=t},expression:"dialogView"}},[t("ViewPlan",{attrs:{plan:e.vItem},on:{deleteProd:e.deleteProduct,closewind:e.closeView}})],1)],1)},Me=[],Je=s(5495),qe=s(8520),We=s(9159),Ge=function(){var e=this,t=e._self._c;return t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" План питания ")]),t("div",{staticClass:"d-flex flex-column"},e._l(e.itemDetailtimes,(function(s){return t(M.Z,{key:s.title,attrs:{flat:""}},[t(J.ZB,[t("strong",{staticClass:"text-h6 ml-5"},[e._v(e._s(s.title))]),t(qe.ZP,{attrs:{"center-active":"","show-arrows":""}},e._l(e.plan?.[s.el],(function(i,a){return t(We.Z,{key:a,scopedSlots:e._u([{key:"default",fn:function({toggle:a}){return[t(M.Z,{staticClass:"ma-1",attrs:{height:"140",width:"160"},on:{click:a}},[i?.image?t(Je.Z,{staticClass:"white--text",attrs:{src:`${e.url}/${i?.image}`,height:"160px"}},[t(J.EB,{staticClass:"align-self-start justify-self-center"}),t(J.EB,[e._v("10 kkal")]),t(J.Qq,[e._v(e._s(i.title))]),t(J.h7,[t(S.Z,{attrs:{icon:""},on:{click:function(t){return e.$emit("deleteProd",{id:e.plan._id,food:i._id,time:s.el})}}},[t(o.Z,{attrs:{color:"white",size:"30"}},[e._v(" mdi-trash-can ")])],1)],1)],1):e._e()],1)]}}],null,!0)})})),1)],1)],1)})),1),t(J.h7,[t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("closewind")}}},[e._v(" Отмена ")]),t(D.Z),t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(N.Z,{attrs:{color:"brown",size:"30"}},[e.plan?.author?.image?t("img",{attrs:{src:`${e.url}/${e.plan?.author?.image}`}}):e._e()])],1)]}}])},[t(c.Z,e._l(e.plan?.author,(function(s,i){return t(u.Z,{key:i},[t(p.V9,[e._v(e._s(i)+": "+e._s(s))])],1)})),1)],1)],1)],1)},He=[],Qe={name:"ViewPlan",props:["plan"],data:()=>({itemDetailtimes:[{title:"Завтрак",el:"breakfast"},{title:"Обед",el:"dinner"},{title:"Ужин",el:"supper"}],model:""}),computed:(0,x.Se)(["url"])},Xe=Qe,Ye=(0,I.Z)(Xe,Ge,He,!1,null,null,null),et=Ye.exports,tt={data:()=>({expanded:[],tags:[],valid:!1,dialog:!1,dialogDelete:!1,dialogView:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Название",value:"title",align:"start"},{text:"Цена",value:"price"},{text:"Автор",value:"author"},{text:"Углеводы",value:"carbohydrates"},{text:"Жиры",value:"fat"},{text:"Белок",value:"proteins"},{text:"Калории",value:"calories"},{text:"Дата",value:"date"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,file:null,productList:[],editedItem:{author:"",title:"",price:0,carbohydrates:"",fat:"",proteins:"",calories:"",description:"",dinner:[],breakfast:[],category:"",childcategory:"",supper:[],type:""},defaultItem:{author:"",title:"",price:0,carbohydrates:"",fat:"",proteins:"",calories:"",description:"",category:"",childcategory:"",dinner:[],breakfast:[],supper:[],type:""},nameRules:[e=>!!e||"Укажите поля"],vItem:{},productTime:"",planProducts:[]}),components:{ViewPlan:et},computed:{...(0,x.Se)(["user_id"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"},urlImage(){return this.file?URL.createObjectURL(this.file):"/files/nophoto.jpg"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogView(e){e||this.closeView()}},created(){this.initialize(),this.getCategory()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},getChildCateg(e){return this.tags.find((t=>t.title==e)).child},async getCategory(){const{data:e}=await this.$http.get("/category/find?theme=mealplan");e.status&&(this.tags=e.result)},async initialize(){const{data:e}=await this.$http.get("/plan/all");e.status&&(this.desserts=e.result);const t=await this.$http.get("/product/all");t.data.status&&(this.productList=t.data.result)},async viewItem(e){const{data:t}=await this.$http.get(`/plan/find/?_id=${e}`);t.status&&(this.vItem=t.result,this.dialogView=!0)},getTimeMealPlan(e){switch(e){case 1:return["Завтрак","breakfast"];case 2:return["Обед","dinner"];case 3:return["Ужин","supper"];default:return["",""]}},date(e){return new Date(1e3*parseInt(e.toString().substring(0,8),16)).toString().slice(0,24)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/plan/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeView(){this.dialogView=!1,this.$nextTick((()=>{this.vItem=null,this.planProducts=[],this.productTime=""}))},async deleteProduct({food:e,id:t,time:s}){const{data:i}=await this.$http.put(`/plan/removeprod/${t}/${s}`,{id:e});this.vItem[s]=i.result[s]},async save(){if(this.editedIndex>-1){delete this.editedItem.author,delete this.editedItem.breakfast,delete this.editedItem.dinner,delete this.editedItem.supper;const{data:e}=await this.$http.put(`/plan/edit/${this.editedId}`,this.editedItem);e.status&&Object.assign(this.desserts[this.editedIndex],e.result),this.openSnackbar(e.message,e.status)}else{this.editedItem.author=this.user_id;const{data:e}=await this.$http.post("/plan/add/",this.editedItem);console.log(e),e.status&&this.desserts.push(e.result),this.openSnackbar(e.message,e.status)}this.close()},async addProduct(e){const{data:t}=await this.$http.put(`/plan/addprod/${this.vItem._id}/${this.productTime}`,{items:e});t.status&&(this.vItem[this.productTime]=t.result[this.productTime],this.close1())}}},st=tt,it=(0,I.Z)(st,Ne,Me,!1,null,null,null),at=it.exports,lt=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Название",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"1 порция гр.",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.portion,callback:function(t){e.$set(e.editedItem,"portion",t)},expression:"editedItem.portion"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.tags,label:"Категория",outlined:"","hide-details":"",dense:"","item-text":"title","item-value":"title",rules:[e=>!!e||"Укажите категорию"]},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Готовка ( в мин. )",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.cookingtime,callback:function(t){e.$set(e.editedItem,"cookingtime",t)},expression:"editedItem.cookingtime"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Содержание углеводов ( в гр. )",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.carbohydrates,callback:function(t){e.$set(e.editedItem,"carbohydrates",t)},expression:"editedItem.carbohydrates"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Содержание жиров ( в гр. )",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.fat,callback:function(t){e.$set(e.editedItem,"fat",t)},expression:"editedItem.fat"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Содержание белков ( в гр. )",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.proteins,callback:function(t){e.$set(e.editedItem,"proteins",t)},expression:"editedItem.proteins"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Содержание калориев ( в гр. )",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.calories,callback:function(t){e.$set(e.editedItem,"calories",t)},expression:"editedItem.calories"}})],1),t(W.Z,{attrs:{cols:"12"}},[t("div",{staticClass:"d-flex align-center"},[t(N.Z,[t("img",{attrs:{src:e.urlImage}})]),t(ge.Z,{attrs:{label:e.editedId?"Поменить фото":"Добавить фото",outlined:"",accept:"image/png, image/gif, image/jpeg, image/jpg",dense:"","hide-details":""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)])],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel ")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK ")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:s}){return[t(N.Z,{attrs:{rounded:""}},[t("img",{attrs:{src:`${e.url}/${s.image}`}})])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.dateformat(s.updatedAt)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},nt=[],dt={name:"Products",data:()=>({tags:[],valid:!1,dialog:!1,dialogDelete:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Картина",value:"image",sortable:!1,align:"start"},{text:"Название",value:"title"},{text:"Порция (120 гр.)",value:"portion"},{text:"Категория",value:"category"},{text:"Готовка (в мин.)",value:"cookingtime",sortable:!1},{text:"Углеводы (в гр.)",value:"carbohydrates"},{text:"Жиры (в гр.)",value:"fat"},{text:"Белок (в гр.)",value:"proteins"},{text:"Калории (в гр.)",value:"calories"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,file:null,editedItem:{title:"",portion:"",cookingtime:"",carbohydrates:"",fat:"",image:"",proteins:"",calories:"",category:""},defaultItem:{title:"",portion:"",cookingtime:"",carbohydrates:"",fat:"",image:"",proteins:"",calories:"",category:""},nameRules:[e=>!!e||"Укажите поля"]}),computed:{...(0,x.Se)(["url"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"},urlImage(){return this.file?URL.createObjectURL(this.file):this.editedId&&!this.file?`${this.url}/${this.editedItem.image}`:"/icons/nophoto.jpg"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.getCategory()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},async initialize(){const{data:e}=await this.$http.get("/product/all");e.status&&(this.desserts=e.result)},getChildCateg(e){return this.tags.find((t=>t.title==e)).child},async getCategory(){const{data:e}=await this.$http.get("/category/find?theme=product");e.status&&(this.tags=e.result)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/product/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},async save(){const e=new FormData;if(Object.keys(this.editedItem).map((t=>{e.append(t,this.editedItem[t])})),this.file&&(e.set("filename",Date.now()+"_"+this.file.name),e.append("file",this.file)),this.editedIndex>-1){const{data:t}=await this.$http.put(`/product/edit/${this.editedId}`,e);t.status&&Object.assign(this.desserts[this.editedIndex],t.result),this.openSnackbar(t.message,t.status)}else{const{data:t}=await this.$http.post("/product/add/",e);t.status&&this.desserts.push(t.result),this.openSnackbar(t.message,t.status)}this.close()}}},rt=dt,ot=(0,I.Z)(rt,lt,nt,!1,null,null,null),ct=ot.exports,ut=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:"",color:"grey lighten-3"}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Имя Фамилия",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Эл. адрес",outlined:"","hide-details":"",dense:"",rules:e.emailRules},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Номер телефона",outlined:"",dense:"",rules:e.nameRules,"hide-details":""},model:{value:e.editedItem.phonenumber,callback:function(t){e.$set(e.editedItem,"phonenumber",t)},expression:"editedItem.phonenumber"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(te.Z,{attrs:{items:["Женской","Мужской"],label:"Пол",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите полa"]},model:{value:e.editedItem.male,callback:function(t){e.$set(e.editedItem,"male",t)},expression:"editedItem.male"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(ie.Z,{attrs:{label:"Возраст",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.age,callback:function(t){e.$set(e.editedItem,"age",t)},expression:"editedItem.age"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:s}){return[t(N.Z,[t("img",{attrs:{src:`${e.url}/${s.image}`}})])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.dateformat(s.updatedAt)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},mt=[],ht={name:"Trainerrs",data:()=>({valid:!1,dialog:!1,dialogDelete:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Картина",value:"image",sortable:!1,align:"start"},{text:"Имя",value:"name"},{text:"Эл. адрес",value:"email",sortable:!1},{text:"Номер телефона",value:"phonenumber",sortable:!1},{text:"Пол",value:"male"},{text:"Возраст",value:"age"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,editedItem:{name:"",email:"",phonenumber:"",male:"",age:""},defaultItem:{name:"",email:"",phonenumber:"",male:"",age:""},nameRules:[e=>!!e||"Укажите поля"],emailRules:[e=>!!e||"Электронная почта обязательна",e=>/.+@.+/.test(e)||"Электронная почта должна быть действующей"]}),computed:{...(0,x.Se)(["url"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},async initialize(){const{data:e}=await this.$http.get("/user/gettrainers");e.status&&(this.desserts=e.result)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/user/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},async save(){if(this.editedIndex>-1){const{data:e}=await this.$http.put(`/user/edit/${this.editedId}`,this.editedItem);e.status&&Object.assign(this.desserts[this.editedIndex],e.result),this.openSnackbar(e.message,e.status)}else{const{data:e}=await this.$http.post("/user/add/trainer",this.editedItem);e.status&&this.desserts.push(e.result),this.openSnackbar(e.message,e.status)}this.close()}}},pt=ht,ft=(0,I.Z)(pt,ut,mt,!1,null,null,null),vt=ft.exports,gt=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:"",color:"grey lighten-3"}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавить ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Имя Фамилия",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Эл. адрес",outlined:"","hide-details":"",dense:"",rules:e.emailRules},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Номер телефона",outlined:"",dense:"",rules:e.nameRules,"hide-details":""},model:{value:e.editedItem.phonenumber,callback:function(t){e.$set(e.editedItem,"phonenumber",t)},expression:"editedItem.phonenumber"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(te.Z,{attrs:{items:["Женской","Мужской"],label:"Пол",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите полa"]},model:{value:e.editedItem.male,callback:function(t){e.$set(e.editedItem,"male",t)},expression:"editedItem.male"}})],1),t(W.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(ie.Z,{attrs:{label:"Возраст",min:"0",outlined:"","hide-details":"",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.age,callback:function(t){e.$set(e.editedItem,"age",t)},expression:"editedItem.age"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранить ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:s}){return[t(N.Z,[t("img",{attrs:{src:`${e.url}/${s.image}`}})])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.dateformat(s.updatedAt)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},bt=[],xt={name:"Users",data:()=>({valid:!1,dialog:!1,dialogDelete:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Картина",value:"image",sortable:!1,align:"start"},{text:"Имя",value:"name"},{text:"Эл. адрес",value:"email",sortable:!1},{text:"Номер телефона",value:"phonenumber",sortable:!1},{text:"Пол",value:"male"},{text:"Возраст",value:"age"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,editedItem:{name:"",email:"",phonenumber:"",male:"",age:""},defaultItem:{name:"",email:"",phonenumber:"",male:"",age:""},nameRules:[e=>!!e||"Укажите поля"],emailRules:[e=>!!e||"Электронная почта обязательна",e=>/.+@.+/.test(e)||"Электронная почта должна быть действующей"]}),computed:{...(0,x.Se)(["url"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},async initialize(){const{data:e}=await this.$http.get("/user/getusers");e.status&&(this.desserts=e.result)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/user/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},async save(){if(this.editedIndex>-1){const{data:e}=await this.$http.put(`/user/edit/${this.editedId}`,this.editedItem);e.status&&Object.assign(this.desserts[this.editedIndex],e.result),this.openSnackbar(e.message,e.status)}else{const{data:e}=await this.$http.post("/user/add",this.editedItem);e.status&&this.desserts.push(e.result),this.openSnackbar(e.message,e.status)}this.close()}}},kt=xt,Zt=(0,I.Z)(kt,gt,bt,!1,null,null,null),It=Zt.exports,_t=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(H.Z,{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,search:e.search,"item-key":"_id",expanded:e.expanded,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticClass:"d-flex py-3 px-3"},[t(ee.Z,{staticClass:"d-flex justify-space-between"},[t(W.Z,{attrs:{cols:"6",sm:"6",md:"6"}},[t(ie.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск",solo:"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(W.Z,{staticClass:"d-flex justify-end",attrs:{cols:"4",sm:"6",md:"6"}},[t(D.Z),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",i,!1),s),[e._v(" Добавыть ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Название",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(W.Z,{attrs:{cols:"6"}},[t(ie.Z,{attrs:{label:"Цена",outlined:"","hide-details":"",min:"0",dense:"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),t(W.Z,{attrs:{cols:"6"}},[t(ie.Z,{attrs:{label:"Неделя",outlined:"","hide-details":"",min:"0",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.weeks,callback:function(t){e.$set(e.editedItem,"weeks",t)},expression:"editedItem.weeks"}})],1),t(W.Z,{attrs:{cols:"6"}},[t(ie.Z,{attrs:{label:"Тренировки",outlined:"","hide-details":"",min:"0",dense:"",type:"number",rules:e.nameRules},model:{value:e.editedItem.workouts,callback:function(t){e.$set(e.editedItem,"workouts",t)},expression:"editedItem.workouts"}})],1),t(W.Z,{attrs:{cols:"6"}},[t(S.Z,{attrs:{block:"",disabled:0==e.editedItem.workouts}},[e._v("Тренировки")])],1),t(W.Z,{attrs:{cols:"6"}},[t(te.Z,{attrs:{items:e.tags,label:"Уровень тренировки",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите уровень"]},model:{value:e.editedItem.level,callback:function(t){e.$set(e.editedItem,"level",t)},expression:"editedItem.level"}})],1),t(W.Z,{attrs:{cols:"6"}},[t(te.Z,{attrs:{items:["Женской","Мужской"],label:"Пол",outlined:"","hide-details":"",dense:"",rules:[e=>!!e||"Укажите пола"]},model:{value:e.editedItem.male,callback:function(t){e.$set(e.editedItem,"male",t)},expression:"editedItem.male"}})],1),t(W.Z,{attrs:{cols:"12"}},[t("div",{staticClass:"d-flex align-center"},[t(N.Z,[t("img",{attrs:{src:e.urlImage}})]),t(ge.Z,{attrs:{label:"Добавить фото",outlined:"",dense:"","hide-details":""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)]),t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Короткое описание",outlined:"","hide-details":"",dense:"",rules:e.nameRules},model:{value:e.editedItem.metadescription,callback:function(t){e.$set(e.editedItem,"metadescription",t)},expression:"editedItem.metadescription"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(Fe.Z,{attrs:{outlined:"",name:"input-7-4",rules:e.nameRules,label:"Описание","hide-details":""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Отмена ")]),t(S.Z,{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:e.validate}},[e._v(" Сохранять ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,{attrs:{outlined:"",tile:""}},[t(J.EB,{staticClass:"text-h5"},[e._v(" Вы уверены, что хотите удалить этот элемент? ")]),t(J.ZB,[e._v("Внимание. После того, как информация будет удалена, она не может быть восстановлена!")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel ")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK ")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.image",fn:function({item:s}){return[t(N.Z,{attrs:{rounded:""}},[t("img",{attrs:{src:`${e.url}/${s.image}`}})])]}},{key:"item.author",fn:function({item:s}){return[t("span",[e._v(e._s(s.author?.name))])]}},{key:"item.date",fn:function({item:s}){return[t("span",[e._v(e._s(e.date(s._id)))])]}},{key:"item.public",fn:function({item:s}){return[t(q.Z,{attrs:{color:s.public?"green":"red",dark:"",small:""}},[e._v(" "+e._s(s.public?"public":"private")+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.viewItem(s._id)}}},[t(p.V9,[e._v("View")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}},{key:"expanded-item",fn:function({headers:s,item:i}){return[t("td",{staticClass:"py-2 px-4",attrs:{colspan:s.length}},[t(M.Z,{staticClass:"elevation-0"},[t(J.EB,[e._v("Описание")]),t(J.ZB,[e._v(" "+e._s(i.description)+" ")])],1)],1)]}}])}),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")]),t(Q.Z,{attrs:{"max-width":"600px"},model:{value:e.dialogView,callback:function(t){e.dialogView=t},expression:"dialogView"}},[t("ViewWorkout",{attrs:{item:e.vItem},on:{closewind:e.closeView}})],1)],1)},yt=[],wt=s(255),$t=s(2348),Ct=s(400),St=s(1214),Dt=function(){var e=this,t=e._self._c;return t("div",[t(M.Z,[t(J.EB,[e._v(e._s(e.items?.title))]),t(J.ZB,[t(St.Z,{staticClass:"mb-6",attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(e.items.exercises,(function(s,i){return t(wt.Z,{key:i},[t(Ct.Z,{attrs:{"expand-icon":"mdi-menu-down"}},[e._v(" Тренировка "+e._s(i+1)+" ")]),t($t.Z,[t("div",{staticClass:"talbe-container"},[t("div",{staticClass:"training-table"},[t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("Uprajneniya")]),t("div",{staticClass:"td"},[e._v("Sets")])]),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("Jim leja")]),t("div",{staticClass:"td"},[e._v("3x8-10")])]),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("Jim leja")]),t("div",{staticClass:"td"},[e._v("3x8-10")])]),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("Jim leja")]),t("div",{staticClass:"td"},[e._v("3x8-10")])])]),t("div",{staticClass:"training-table"},[t("div",{staticClass:"tr"},e._l(e.items.weeks,(function(s,i){return t("div",{key:i,staticClass:"td"},[e._v("week "+e._s(i+1))])})),0),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")])]),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")])]),t("div",{staticClass:"tr"},[t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")]),t("div",{staticClass:"td"},[e._v("4/10")])])])])])],1)})),1)],1),t(J.h7,[t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("closewind")}}},[e._v(" Отмена ")]),t(D.Z),t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(N.Z,{attrs:{color:"brown",size:"30"}},[e.items?.author?.image?t("img",{attrs:{src:`${e.url}/${e.items?.author?.image}`}}):e._e()])],1)]}}])},[t(c.Z,e._l(e.items?.author,(function(s,i){return t(u.Z,{key:i},[t(p.V9,[e._v(e._s(i)+": "+e._s(s))])],1)})),1)],1)],1)],1)],1)},Ot=[],jt={props:["item"],data:()=>({items:{},panel:[0,1]}),async created(){const{data:e}=await this.$http.get("/training/find/?_id=6389c86683e78afd0e7f813e");console.log(e.result),this.items=e.result},computed:(0,x.Se)(["url"])},Rt=jt,Tt=(0,I.Z)(Rt,Dt,Ot,!1,null,null,null),Bt=Tt.exports,Et={data:()=>({expanded:[],tags:["Начальный","Опытный","Продвинутый"],valid:!1,dialog:!1,dialogDelete:!1,dialogView:!1,snackbar:!1,snacktext:"",snackstatus:!0,headers:[{text:"Картина",value:"image",sortable:!1,align:"start"},{text:"Название",value:"title"},{text:"Цена",value:"price"},{text:"Пол",value:"male",sortable:!1},{text:"Короткое описание",value:"metadescription",sortable:!1},{text:"Уровень тренировки",value:"level"},{text:"Автор",value:"author"},{text:"Дата",value:"date"},{text:"Действия",value:"actions",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedId:null,file:null,productList:[],product:{title:"",description:"",approach:"",filename:""},productItem:{title:"",description:"",approach:"",filename:""},editedItem:{author:"",title:"",description:"",metadescription:"",level:"",price:0,weeks:0,workouts:0,male:""},defaultItem:{author:"",title:"",description:"",metadescription:"",level:"",price:0,weeks:0,workouts:0,male:""},nameRules:[e=>!!e||"Укажите поля"],vItem:{},productTime:"",planProducts:[],model:"",exercises:[]}),components:{ViewWorkout:Bt},computed:{...(0,x.Se)(["url","user_id"]),formTitle(){return-1===this.editedIndex?"Добавить":"Редактировать"},urlImage(){return this.file?URL.createObjectURL(this.file):"/icons/nophoto.jpg"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogView(e){e||this.closeView()}},created(){this.initialize(),this.getAllExers()},methods:{validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},async initialize(){const{data:e}=await this.$http.get("/training/all");e.status&&(this.desserts=e.result);const t=await this.$http.get("/training/all");t.data.status&&(this.productList=t.data.result)},async viewItem(e){this.dialogView=!0;const{data:t}=await this.$http.get(`/training/find/?_id=${e}`);t.status&&(this.vItem=t.result)},date(e){return new Date(1e3*parseInt(e.toString().substring(0,8),16)).toString().slice(0,24)},editItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedId=e._id,this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/training/delete/${this.editedId}`);e.status&&this.desserts.splice(this.editedIndex,1),this.openSnackbar(e.message,e.status),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null,this.file=null}))},closeView(){this.dialogView=!1,this.$nextTick((()=>{this.vItem=null,this.planProducts=[],this.productTime=""}))},async getAllExers(){const{data:e}=await this.$http.get("/exercise/all");e.status&&(this.exercises=e.result)},async save(){const e=new FormData;if(Object.keys(this.editedItem).map((t=>{e.append(t,this.editedItem[t])})),this.file&&(e.set("filename",Date.now()+"_"+this.file.name),e.append("file",this.file)),this.editedIndex>-1){e.delete("_id"),e.delete("exercises"),e.delete("author"),e.delete("createdAt"),e.delete("updatedAt"),e.delete("__v");const{data:t}=await this.$http.put(`/training/edit/${this.editedId}`,e);t.status&&Object.assign(this.desserts[this.editedIndex],t.result),console.log(t),this.openSnackbar(t.message,t.status)}else{e.set("author",this.user_id);const{data:t}=await this.$http.post("/training/add/",e);t.status&&this.desserts.push(t.result),this.openSnackbar(t.message,t.status)}this.close()},async addProduct(e){const{data:t}=await this.$http.put(`/training/addexer/${this.vItem._id}`,{items:e});t.status&&(this.vItem[this.productTime]=t.result[this.productTime],this.close1())}},mounted(){window.alert("ведутся технические работы")}},Vt=Et,zt=(0,I.Z)(Vt,_t,yt,!1,null,null,null),Pt=zt.exports,Lt=function(){var e=this,t=e._self._c;return t(G.Z,{attrs:{fluid:""}},[t(St.Z,{attrs:{multiple:""}},e._l(e.categories,(function({title:s,icon:i,field:a},l){return t(wt.Z,{key:l},[t(Ct.Z,[t("div",[t(q.Z,{attrs:{color:"deep-purple",label:"","text-color":"white"}},[t(o.Z,{attrs:{left:""}},[e._v(" "+e._s(i)+" ")]),e._v(" "+e._s(s)+" ")],1)],1)]),t($t.Z,[t("CategoryTable",{attrs:{items:e.filterData(a)},on:{edit:e.editItem,delet:e.deleteItem}})],1)],1)})),1),t(Q.Z,{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[e._v(" Add ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(M.Z,[t(X.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(J.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(J.ZB,[t(G.Z,[t(ee.Z,[t(W.Z,{attrs:{cols:"12"}},[t(ie.Z,{attrs:{label:"Название",rules:e.nameRules,outlined:"","hide-details":"",dense:""},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.categories,label:"Тема",rules:e.nameRules,outlined:"","hide-details":"",dense:"","item-text":"title","item-value":"field",clearable:""},model:{value:e.editedItem.theme,callback:function(t){e.$set(e.editedItem,"theme",t)},expression:"editedItem.theme"}})],1),t(W.Z,{attrs:{cols:"12"}},[t(te.Z,{attrs:{items:e.desserts,label:"Родительская категория",outlined:"","hide-details":"",dense:"","item-text":"title","item-value":"_id",clearable:""},model:{value:e.editedItem.parent,callback:function(t){e.$set(e.editedItem,"parent",t)},expression:"editedItem.parent"}})],1)],1)],1)],1),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(S.Z,{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.validate}},[e._v(" Save ")])],1)],1)],1)],1),t(Q.Z,{attrs:{"max-width":"400px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(M.Z,[t(J.EB,{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item? ")]),t(J.h7,[t(D.Z),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(S.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(D.Z)],1)],1)],1),t(se.Z,{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(S.Z,e._b({attrs:{color:e.snackstatus?"green":"red",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Закрывать ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" ")])],1)},At=[],Ut=function(){var e=this,t=e._self._c;return t(H.Z,{staticClass:"elevation-0",attrs:{headers:e.headers,items:e.items,search:e.search,"single-expand":!1,expanded:e.expanded,"item-key":"_id","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.actions",fn:function({item:s}){return[t(Y.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(S.Z,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(o.Z,[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[t(c.Z,{attrs:{dense:""}},[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)]}},{key:"item.author",fn:function({item:s}){return[t("span",[e._v(e._s(s.author?.name))])]}},{key:"expanded-item",fn:function({headers:s,item:i}){return[t("td",{attrs:{colspan:s.length}},[t("div",{staticStyle:{display:"flex",gap:"10px",padding:"10px","flex-wrap":"wrap"}},e._l(i.child,(function(s){return t("div",{key:s._id},[t(Y.Z,{attrs:{"offset-y":"",dense:""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(q.Z,e._g(e._b({attrs:{label:"",dark:"",color:"blue"}},"v-chip",a,!1),i),[e._v(" "+e._s(s.title)+" ")])]}}],null,!0)},[t(c.Z,[t(u.Z,{attrs:{link:""},on:{click:function(t){return e.editItem(s)}}},[t(p.V9,[e._v("Edit")])],1),t(u.Z,{attrs:{link:""},on:{click:function(t){return e.deleteItem(s)}}},[t(p.V9,[e._v("Delete")])],1)],1)],1)],1)})),0)])]}}])})},Kt=[],Ft={props:["items"],data:()=>({headers:[{text:"Title",align:"start",value:"title"},{text:"Author",value:"author"},{text:"Date",value:"createdAt"},{text:"Actions",value:"actions",sortable:!1}],expanded:[],search:""}),methods:{editItem(e){this.$emit("edit",e)},deleteItem(e){this.$emit("delet",e)}}},Nt=Ft,Mt=(0,I.Z)(Nt,Ut,Kt,!1,null,null,null),Jt=Mt.exports,qt={name:"Category",data:()=>({categories:[{field:"product",title:"База продуктов",color:"pink accent-3",icon:"mdi-baguette"},{field:"mealplan",title:"Планы Питания",color:"",icon:"mdi-food"},{field:"exercise",title:"База упражнений",color:"",icon:"mdi-dumbbell"},{field:"workout",title:"Програмы тренировок",color:"",icon:"mdi-weight-lifter"}],valid:!1,snackbar:!1,snacktext:"",snackstatus:!0,desserts:[],dialog:!1,dialogDelete:!1,editedIndex:-1,editedId:null,editedItem:{name:"",theme:"",parent:null,author:""},defaultItem:{name:"",theme:"",parent:null,author:""},nameRules:[e=>!!e||"Укажите поля"]}),computed:{...(0,x.Se)(["user_id"]),formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{async initialize(){const{data:e}=await this.$http.get("/category/parent");this.desserts=e.result},validate(){this.$refs.form.validate()&&this.save()},openSnackbar(e,t){this.snackbar=!0,this.snacktext=e,this.snackstatus=t},filterData(e){return this.desserts.filter((t=>t.theme===e))},editItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.editedId=e._id},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0,this.editedId=e._id},async deleteItemConfirm(){const{data:e}=await this.$http.delete(`/category/delete/${this.editedId}`);if(e.status){if(e.result.parent){const t=this.desserts.find((t=>t._id==e.result.parent)).child.indexOf(e.result);this.desserts.find((t=>t._id==e.result.parent)).child.splice(t,1)}else this.desserts.splice(this.editedIndex,1);this.openSnackbar(e.message,e.status),this.closeDelete()}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.editedId=null}))},async save(){if(this.editedIndex>-1||this.editedId){delete this.editedItem.parent;const{data:e}=await this.$http.put(`/category/edit/${this.editedId}`,this.editedItem);e.result?.parent?Object.assign(this.desserts.find((t=>t._id==e.result.parent)).child.find((e=>e._id==this.editedId)),e.result):Object.assign(this.desserts[this.editedIndex],e.result),this.openSnackbar(e.message,e.status)}else{this.editedItem.author=this.user_id;const{data:e}=await this.$http.post("/category/add",this.editedItem);e.result.parent?this.desserts.find((t=>t._id===e.result.parent)).child.push(e.result):this.desserts.push(e.result),this.openSnackbar(e.message,e.status)}this.close()}},components:{CategoryTable:Jt}},Wt=qt,Gt=(0,I.Z)(Wt,Lt,At,!1,null,null,null),Ht=Gt.exports;i.ZP.use(F.ZP);const Qt=(e,t,s)=>{ss.getters.isLoggedIn?s():s("/login")},Xt=(e,t,s)=>{ss.getters.isLoggedIn?s("/"):s()},Yt=[{path:"/",name:"dashboard",component:ve,beforeEnter:Qt},{path:"/users",name:"users",component:It,beforeEnter:Qt},{path:"/trainers",name:"trainers",component:vt,beforeEnter:Qt},{path:"/admins",name:"admins",component:oe,beforeEnter:Qt},{path:"/products",name:"products",component:ct,beforeEnter:Qt},{path:"/finance",name:"finance",component:Ee,beforeEnter:Qt},{path:"/mealplans",name:"mealplans",component:at,beforeEnter:Qt},{path:"/exercises",name:"exercises",component:_e,beforeEnter:Qt},{path:"/workout",name:"workout",component:Pt,beforeEnter:Qt},{path:"/feedback",name:"feedback",component:De,beforeEnter:Qt},{path:"/categories",name:"categories",component:Ht,beforeEnter:Qt},{path:"/login",name:"login",component:Ke,beforeEnter:Xt}],es=new F.ZP({mode:"history",base:"",routes:Yt});var ts=es;i.ZP.use(x.ZP);var ss=new x.ZP.Store({state:{staticurl:"",drawer:null,user:JSON.parse(localStorage.getItem("fitme-admin-user")||"{}"),token:localStorage.getItem("fitme-admin-token")||null,message:{status:!0,text:"",toggle:!1}},getters:{drawer:e=>e.drawer,user:e=>e.user,token:e=>e.token,message:e=>!!e.message,isLoggedIn:e=>!!e.token,url:e=>e.staticurl,user_id:e=>e.user._id},mutations:{toggleNav:e=>e.drawer=!e.drawer,closeSnackbar:e=>e.message={status:!0,text:"",toggle:!1},openSnackbar:(e,t)=>e.message=t,LoginUser:(e,t)=>{e.user=t.user,e.token=t.token,localStorage.setItem("fitme-admin-token",t.token),localStorage.setItem("fitme-admin-user",JSON.stringify(t.user))},logout:e=>{e.user=null,e.token=null,localStorage.removeItem("fitme-admin-token"),localStorage.removeItem("fitme-admin-user"),ts.push("/login")}},actions:{},modules:{}});i.ZP.config.productionTip=!1,i.ZP.prototype.$http=a.ZP.create();const is=localStorage.getItem("fitme-admin-token");is&&(i.ZP.prototype.$http.defaults.headers.common.Authorization=is),new i.ZP({vuetify:K,store:ss,router:ts,render:e=>e(A)}).$mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,l){if(!i){var n=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],l=e[c][2];for(var d=!0,r=0;r<i.length;r++)(!1&l||n>=l)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(d=!1,l<n&&(n=l));if(d){e.splice(c--,1);var o=a();void 0!==o&&(t=o)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,a,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,n=i[0],d=i[1],r=i[2],o=0;if(n.some((function(t){return 0!==e[t]}))){for(a in d)s.o(d,a)&&(s.m[a]=d[a]);if(r)var c=r(s)}for(t&&t(i);o<n.length;o++)l=n[o],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},i=self["webpackChunkcl_fitmev2"]=self["webpackChunkcl_fitmev2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(2944)}));i=s.O(i)})();
//# sourceMappingURL=app.5f28730e.js.map